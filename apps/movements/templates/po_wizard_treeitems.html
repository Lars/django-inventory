{% load i18n %}
{% load styling %}
{% load generic_views_helpers %}

<table class="wiz_treeitems">
<thead>
    <tr><td>{% trans 'Product'%}</td><td>{% trans 'State' %}</td><td colspan="2">{% trans 'Actions' %}</td></tr>
</thead>

<tbody>
    {% for item in items %}
    {% if item.is_group %}
        <tr class="igroup"><td><span class="category">{{ item.item_template.category }}:</span> {{ item.item_template }}
        </td>
        
        <td><span class="state_{{item.state }}"
            {% if item.errors %} title="{{ item.htmlerrors }}"{%endif%}>
            {% if item.state == 'ok' %}{% trans 'OK' %}
            {% elif item.state == 'bad' %}{% trans 'Bad' %}
            {% elif item.state == 'missing' %}{% trans 'Missing' %}
            {% else %}{{ item.state}}{% endif %}</span></td>
        <td><button type="submit" name="iaction" value="edit:{{ item.line_num }}" title="{%trans 'Edit' %}"><span class="famfam active famfam-pencil"></span></button></td>
        <td>{% if not item.contents %}<button type="submit" name="iaction" value="delete:{{ item.line_num }}" title="{%trans 'Delete' %}"><span class="famfam active famfam-cross"></span></button>{% endif %}</td>
    </tr>
        {% if item.contents %}
        {% with subrow='subrow' %}
        {% for subitem in item.contents %}
            {% with item=subitem %}
                {% include 'po_wizard_oneitem.html' %}
            {% endwith %}
        {% endfor %}
        {% endwith %}
        {% else %}
        <tr><td>{% trans 'Set is empty!' %}</td><td></td></tr>
        {% endif %}
        <tr class="egroup"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
    {% else %}
        {% include 'po_wizard_oneitem.html' %}
    {% endif %}
    {% endfor %}
</tbody>

</table>

